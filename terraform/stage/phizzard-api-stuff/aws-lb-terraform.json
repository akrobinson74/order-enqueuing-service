{
    "version": 3,
    "terraform_version": "0.11.7",
    "serial": 19,
    "lineage": "d2cb403c-598f-eff4-aed2-a6e9612647da",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "lb_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:loadbalancer/app/phizzard-alb/51a3e0dc724427e6"
                }
            },
            "resources": {
                "aws_alb.service": {
                    "type": "aws_alb",
                    "depends_on": [
                        "data.aws_subnet_ids.vpc",
                        "data.terraform_remote_state.ecs"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:loadbalancer/app/phizzard-alb/51a3e0dc724427e6",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:loadbalancer/app/phizzard-alb/51a3e0dc724427e6",
                            "arn_suffix": "app/phizzard-alb/51a3e0dc724427e6",
                            "dns_name": "phizzard-alb-1556696151.eu-central-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "enable_http2": "true",
                            "id": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:loadbalancer/app/phizzard-alb/51a3e0dc724427e6",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "load_balancer_type": "application",
                            "name": "phizzard-alb",
                            "security_groups.#": "1",
                            "security_groups.2964555774": "sg-1233087f",
                            "subnet_mapping.#": "0",
                            "subnets.#": "3",
                            "subnets.2834894757": "subnet-2d89fa60",
                            "subnets.4174075323": "subnet-5c8ee821",
                            "subnets.983063881": "subnet-120e2679",
                            "tags.%": "1",
                            "tags.Name": "phizzard.app ALB",
                            "vpc_id": "vpc-a1314dca",
                            "zone_id": "Z215JYRZR1TBD5"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_alb_listener.service": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.service",
                        "aws_lb_target_group.test"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:listener/app/phizzard-alb/51a3e0dc724427e6/2110a28c8ede49dc",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:listener/app/phizzard-alb/51a3e0dc724427e6/2110a28c8ede49dc",
                            "certificate_arn": "arn:aws:acm:eu-central-1:806353235757:certificate/57b6dfa7-6e88-48f9-b908-a4e0a6cf8c95",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:targetgroup/default-tg/4726f28e6be49374",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:listener/app/phizzard-alb/51a3e0dc724427e6/2110a28c8ede49dc",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:loadbalancer/app/phizzard-alb/51a3e0dc724427e6",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2015-05"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.test": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "data.terraform_remote_state.vpc"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:targetgroup/default-tg/4726f28e6be49374",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:targetgroup/default-tg/4726f28e6be49374",
                            "arn_suffix": "targetgroup/default-tg/4726f28e6be49374",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "5",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:eu-central-1:806353235757:targetgroup/default-tg/4726f28e6be49374",
                            "name": "default-tg",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "instance",
                            "vpc_id": "vpc-a1314dca"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route53_record.service.0": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_alb.service",
                        "data.aws_route53_zone.selected"
                    ],
                    "primary": {
                        "id": "ZE42I9BMPFVSU_api.phizzard.app._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.1743418754.evaluate_target_health": "true",
                            "alias.1743418754.name": "phizzard-alb-1556696151.eu-central-1.elb.amazonaws.com",
                            "alias.1743418754.zone_id": "Z215JYRZR1TBD5",
                            "allow_overwrite": "true",
                            "fqdn": "api.phizzard.app",
                            "health_check_id": "",
                            "id": "ZE42I9BMPFVSU_api.phizzard.app._A",
                            "name": "api.phizzard.app",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "ZE42I9BMPFVSU"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route53_record.service.1": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_alb.service",
                        "data.aws_route53_zone.selected"
                    ],
                    "primary": {
                        "id": "ZE42I9BMPFVSU_staging.phizzard.app._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.1743418754.evaluate_target_health": "true",
                            "alias.1743418754.name": "phizzard-alb-1556696151.eu-central-1.elb.amazonaws.com",
                            "alias.1743418754.zone_id": "Z215JYRZR1TBD5",
                            "allow_overwrite": "true",
                            "fqdn": "staging.phizzard.app",
                            "health_check_id": "",
                            "id": "ZE42I9BMPFVSU_staging.phizzard.app._A",
                            "name": "staging.phizzard.app",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "ZE42I9BMPFVSU"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_route53_zone.selected": {
                    "type": "aws_route53_zone",
                    "depends_on": [],
                    "primary": {
                        "id": "ZE42I9BMPFVSU",
                        "attributes": {
                            "caller_reference": "6C503A55-264D-0E5E-A6C5-68F8705037FC",
                            "comment": "",
                            "id": "ZE42I9BMPFVSU",
                            "name": "phizzard.app.",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-1461.awsdns-54.org",
                            "name_servers.1": "ns-1576.awsdns-05.co.uk",
                            "name_servers.2": "ns-168.awsdns-21.com",
                            "name_servers.3": "ns-1010.awsdns-62.net",
                            "private_zone": "false",
                            "resource_record_set_count": "9",
                            "zone_id": "ZE42I9BMPFVSU"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_subnet_ids.vpc": {
                    "type": "aws_subnet_ids",
                    "depends_on": [
                        "data.terraform_remote_state.vpc"
                    ],
                    "primary": {
                        "id": "vpc-a1314dca",
                        "attributes": {
                            "id": "vpc-a1314dca",
                            "ids.#": "3",
                            "ids.2834894757": "subnet-2d89fa60",
                            "ids.4174075323": "subnet-5c8ee821",
                            "ids.983063881": "subnet-120e2679",
                            "vpc_id": "vpc-a1314dca"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.terraform_remote_state.ecs": {
                    "type": "terraform_remote_state",
                    "depends_on": [],
                    "primary": {
                        "id": "2018-05-29 20:32:45.808091021 +0000 UTC",
                        "attributes": {
                            "backend": "s3",
                            "config.%": "3",
                            "config.bucket": "terraform-phizzard",
                            "config.key": "aws/ecs/terraform.tfstate",
                            "config.region": "eu-central-1",
                            "ecs-cluster-id": "arn:aws:ecs:eu-central-1:806353235757:cluster/phizzard",
                            "ecs-servicerole-arn": "arn:aws:iam::806353235757:role/phizzard-servicerole",
                            "elb_security_group_id": "sg-1233087f",
                            "environment": "default",
                            "id": "2018-05-29 20:32:45.808091021 +0000 UTC",
                            "workspace": "default"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.terraform"
                },
                "data.terraform_remote_state.vpc": {
                    "type": "terraform_remote_state",
                    "depends_on": [],
                    "primary": {
                        "id": "2018-05-29 20:32:45.739402712 +0000 UTC",
                        "attributes": {
                            "aws_region": "eu-central-1",
                            "backend": "s3",
                            "config.%": "3",
                            "config.bucket": "terraform-phizzard",
                            "config.key": "aws/vpc/terraform.tfstate",
                            "config.region": "eu-central-1",
                            "environment": "default",
                            "id": "2018-05-29 20:32:45.739402712 +0000 UTC",
                            "vpc_id": "vpc-a1314dca",
                            "workspace": "default"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.terraform"
                }
            },
            "depends_on": []
        }
    ]
}
